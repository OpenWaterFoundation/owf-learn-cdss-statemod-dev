<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Open Water Foundation">
  <link rel="shortcut icon" href="../StateMod-favicon.png">
  
  <title>Testing - Learn StateMod (for Software Developers)</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Testing";
    var mkdocs_page_input_path = "testing.md";
    var mkdocs_page_url = "/testing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Learn StateMod (for Software Developers)</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../introduction/">Introduction and Protocols</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../fortran/">Fortran Resources</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../configure-dev-env/">Configure Development Environment</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../code-overview/">Code Overview</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../model-input/">Model Input</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../model-output/">Model Output</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../running-statemod/">Running StateMod</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../statemod-utilities/">StateMod Utilities</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../error-handling-logging/">Error Handling and Logging</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../revision-control/">Revision Control</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../debugging/">Debugging</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Testing</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#testing">Testing</a></li>
                
                    <li><a class="toctree-l4" href="#unit-testing">Unit Testing</a></li>
                
                    <li><a class="toctree-l4" href="#functional-testing">Functional Testing</a></li>
                
                    <li><a class="toctree-l4" href="#system-testing">System Testing</a></li>
                
                    <li><a class="toctree-l4" href="#other-testing-considerations">Other Testing Considerations</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../build-process/">Build Process</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../documentation/">Documentation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../add-operating-rule/">Adding an Operating Rule</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Learn StateMod (for Software Developers)</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Testing</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/OpenWaterFoundation/owf-learn-cdss-statemod-dev/edit/master/docs/testing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="testing">Testing</h1>
<p>Testing StateMod can be difficult due to the complexity of the code.
Simple automated tests are useful to verify basic program functionality, such as input and output.
However, testing features that model complex systems require running on larger data sets.</p>
<p>Establishing test suites will ensure that future versions, and potentially language conversion can be verified.</p>
<p>Automated testing is a balance between trying to achieve blanket coverage and recognizing that there
will never be enough resources to implement automated tests for every possible situation.</p>
<h2 id="unit-testing">Unit Testing</h2>
<p>Unit testing refers to running a small test to exercise a specific logicical unit of code.
Unit tests are typically automated so that many tests can be run efficiently.
Unit tests are implemented at code level in Fortran and are compiled against the StateMod code.
Most modern languages rely on unit testing frameworks to support exhaustive code testing.
There are not a lot of frameworks available for Fortran unit testing.  The following needs to be evaluated:</p>
<ul>
<li><a href="http://nasarb.rubyforge.org/">funit</a></li>
<li><a href="https://www.software.ac.uk/blog/2016-09-28-look-fortran-unit-test-frameworks">A look at FORTRAN unit test frameworks</a></li>
</ul>
<h2 id="functional-testing">Functional Testing</h2>
<p>Functional testing refers to running the program in operational mode, typically on a smaller dataset that
isolates code that is executed.
Functional tests are typically automated so that many tests can be run efficiently.
Functional tests are run on the compiled StateMod program (tests consist of datasets, not code snippets).
A testing framework for automated functional tests needs to be implemented, similar to TSTool test features.
This could be built into StateMod or could be an external program,
possibly using TSTool with RunProgram, CompareFiles, and CompareTimeSeries commands.</p>
<p>Existing example files might be suitable for functional tests but it is likely that many more tests need to be defined.</p>
<h2 id="system-testing">System Testing</h2>
<p>Unit and functional testing will only go so far towards verifying that StateMod is properly functioning.
Consequently, it is necessary to run StateMod on a larger model and do global and spot checks of output.
Wilson Water Group (WWG) is envisioned to help with StateMod testing as part of the open source project
and will help define test datasets and procedures.</p>
<h2 id="other-testing-considerations">Other Testing Considerations</h2>
<p>Once a testing framework has been established, the following may also be a focus of testing:</p>
<ul>
<li>Performance - verify that speed of execution is reasonable</li>
<li>Stress - test large datasets, even if synthetic data</li>
<li>Integration - test whether StateMod works with other components, such as StateMod GUI, utilities</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../build-process/" class="btn btn-neutral float-right" title="Build Process">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../debugging/" class="btn btn-neutral" title="Debugging"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/OpenWaterFoundation/owf-learn-cdss-statemod-dev" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../debugging/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../build-process/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
